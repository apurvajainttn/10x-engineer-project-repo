# PromptLab

**Your AI Prompt Engineering Platform**

---

## Project Overview

PromptLab is an internal tool designed for AI engineers to manage prompts efficiently. It serves as an organizational platform where users can store, tag, version control, and test AI prompts, akin to a 'Postman for Prompts'.

## Features
- **Prompt Management**: Create, retrieve, update, and delete prompts.
- **Collection Management**: Organize prompts into collections.
- **Search and Filter**: Search prompts by keywords and filter by collections.
- **Health Check**: Includes an endpoint for service health assessment.
- **Partial Updates**: Supports PATCH requests for partial prompt updates.

## Prerequisites
- Python 3.10+
- Node.js 18+ (for Week 4)
- Git

## Installation

Follow these steps to set up the PromptLab API locally:

### 1. Clone the Repository
Begin by cloning the repository to your local machine.

```bash
# Clone the repo
git clone <your-repo-url>
cd promptlab
```

### 2. Set up the Backend
Navigate to the backend directory and install the necessary Python dependencies. This will prepare your environment for running the FastAPI server.

```bash
cd backend
pip install -r requirements.txt
```

### 3. Run the Server
After installing dependencies, start the FastAPI server. This command will launch the application, and it will be accessible at the specified host and port.

```bash
python main.py
```

The API will be running at: http://localhost:8000

You can access the API documentation, which is automatically generated by FastAPI's Swagger UI, at: http://localhost:8000/docs


## Quick Start Guide

1. **Run the API Server**: Follow the installation instructions and run the server to start using the API.
2. **Access API Documentation**: Navigate to http://localhost:8000/docs for interactive API documentation provided by FastAPI's Swagger UI.

## API Endpoint Summary

Here's a detailed list of the available API endpoints within PromptLab:

| Method | Endpoint                | Description                                                                                                           | Example Usage                                         |
|--------|-------------------------|-----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
| GET    | `/health`               | Returns the health status of the PromptLab API server, confirming if the service is running and providing version info.| `curl http://localhost:8000/health`                   |
| GET    | `/prompts`              | Retrieves a list of all prompts available in the system, optionally filtered by collection ID or search query.        | `curl http://localhost:8000/prompts`                  |
| GET    | `/prompts/{prompt_id}`  | Fetches the details of a specific prompt identified by its unique ID, returning full prompt information.              | `curl http://localhost:8000/prompts/1`                |
| POST   | `/prompts`              | Creates a new prompt entry. Requires a JSON body with prompt details such as title, content, and optional collection.  | `curl -X POST http://localhost:8000/prompts -d '{...}'`|
| PUT    | `/prompts/{prompt_id}`  | Updates an entire prompt by ID, overwriting its current content with new data provided in a complete JSON object.     | `curl -X PUT http://localhost:8000/prompts/1 -d '{...}'`|
| PATCH  | `/prompts/{prompt_id}`  | Partially updates a prompt, allowing modifications to one or more prompt fields without replacing the whole entry.    | `curl -X PATCH http://localhost:8000/prompts/1 -d '{...}'`|
| DELETE | `/prompts/{prompt_id}`  | Deletes an existing prompt based on the given ID, removing it permanently from the collection.                        | `curl -X DELETE http://localhost:8000/prompts/1`      |
| GET    | `/collections`          | Lists all prompt collections, providing a way to categorize and manage groups of related prompts.                     | `curl http://localhost:8000/collections`              |
| GET    | `/collections/{id}`     | Retrieves details of a specific collection using its ID, including its name and the prompts it contains.              | `curl http://localhost:8000/collections/1`            |
| POST   | `/collections`          | Creates a new collection to organize prompts, requiring a name and optional description in the body.                   | `curl -X POST http://localhost:8000/collections -d '{...}'`|
| DELETE | `/collections/{id}`     | Removes a collection by its ID. Prompts associated with this collection will be disassociated.                         | `curl -X DELETE http://localhost:8000/collections/1`  |

These endpoints form the core of interacting with the PromptLab service, facilitating prompt storage, organization, and retrieval processes.

## Data Models

### Prompt Models
- **PromptBase**: Basic fields for prompt representations like title, content, description, and optional collection ID.
- **PromptCreate/Update/Patch**: Variations of the prompt model used in different operations.

### Collection Models
- **CollectionBase**: Core fields for collections such as name and description.
- **CollectionCreate**: Model for creating a new collection.

### Response Models
- **PromptList**: Wrapped response for listing prompts.
- **CollectionList**: Wrapped response for listing collections.
- **HealthResponse**: Structure for health check statuses.

## Usage Examples

Implementing a new prompt:

```python
from fastapi.testclient import TestClient
from app.api import app

client = TestClient(app)

response = client.post(
    "/prompts",
    json={"title": "New Prompt", "content": "Complete the task", "description": "Example description"}
)
assert response.status_code == 201
```

## Development Setup

1. **Setup**: Install dependencies and set up your dev environment.
2. **Testing**: Use `pytest` to run tests located in the backend/tests directory.

```bash
cd backend
pytest tests/ -v
```

3. **CI/CD**: Automated workflows are defined for testing and deployment.

## Contributing

Contributions are welcome! Please adhere to the following guidelines:
- Fork the repository and create a feature branch.
- Write clear, concise commit messages.
- Ensure code passes all tests before submitting a pull request.
- Follow the coding standards and guidelines.

---

Feel free to reach out if you have any questions or need further guidance. Welcome to the team and happy coding! ðŸš€

